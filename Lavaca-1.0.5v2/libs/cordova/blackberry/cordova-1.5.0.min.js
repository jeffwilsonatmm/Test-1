/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * Copyright (c) 2011, Research In Motion Limited.
 */var Cordova=Cordova||function(){var a={documentEventHandler:{},windowEventHandler:{},Channel:function(b){this.type=b;this.handlers={};this.guid=0;this.fired=!1;this.enabled=!0}};a.Channel.prototype.subscribe=function(b,d,c){if(null!=b){var e=b;"object"==typeof d&&b instanceof Function&&(e=a.close(d,b));c=c||e.observer_guid||b.observer_guid||this.guid++;e.observer_guid=c;b.observer_guid=c;this.handlers[c]=e;return c}};a.Channel.prototype.subscribeOnce=function(b,d){var c=null,e=this,f=function(){b.apply(d||
null,arguments);e.unsubscribe(c)};this.fired?("object"==typeof d&&b instanceof Function&&(b=a.close(d,b)),b.apply(this,this.fireArgs)):c=this.subscribe(f);return c};a.Channel.prototype.unsubscribe=function(b){b instanceof Function&&(b=b.observer_guid);this.handlers[b]=null;delete this.handlers[b]};a.Channel.prototype.fire=function(b){if(this.enabled){var a=!1,c;for(c in this.handlers){var e=this.handlers[c];e instanceof Function&&(e=!1==e.apply(this,arguments),a=a||e)}this.fired=!0;this.fireArgs=
arguments;return!a}return!0};a.Channel.join=function(b,a){for(var c=a.length,e=c,f=function(){--c||b()},j=0;j<e;j++)!a[j].fired?a[j].subscribeOnce(f):c--;c||b()};a.onDOMContentLoaded=new a.Channel("onDOMContentLoaded");a.onNativeReady=new a.Channel("onNativeReady");a.onCordovaInit=new a.Channel("onCordovaInit");a.onCordovaReady=new a.Channel("onCordovaReady");a.onCordovaInfoReady=new a.Channel("onCordovaInfoReady");a.onCordovaConnectionReady=new a.Channel("onCordovaConnectionReady");a.onDeviceReady=
new a.Channel("onDeviceReady");a.deviceReadyChannelsArray=[a.onCordovaReady,a.onCordovaInfoReady,a.onCordovaConnectionReady];a.deviceReadyChannelsMap={};a.waitForInitialization=function(b){if(b){var d=new a.Channel(b);a.deviceReadyChannelsMap[b]=d;a.deviceReadyChannelsArray.push(d)}};a.initializationComplete=function(b){(b=a.deviceReadyChannelsMap[b])&&b.fire()};a.Channel.join(function(){a.onCordovaInit.fire();a.onCordovaReady.fire();a.Channel.join(function(){a.onDeviceReady.fire()},a.deviceReadyChannelsArray)},
[a.onDOMContentLoaded,a.onNativeReady]);document.addEventListener("DOMContentLoaded",function(){a.onDOMContentLoaded.fire()},!1);a.m_document_addEventListener=document.addEventListener;a.m_window_addEventListener=window.addEventListener;a.addWindowEventHandler=function(b,d){a.windowEventHandler[b]=d};a.addDocumentEventHandler=function(b,d){a.documentEventHandler[b]=d};document.addEventListener=function(b,d,c){var e=b.toLowerCase();"deviceready"==e?a.onDeviceReady.subscribeOnce(d):"undefined"!==typeof a.documentEventHandler[e]&&
a.documentEventHandler[e](e,d,!0)||a.m_document_addEventListener.call(document,b,d,c)};window.addEventListener=function(b,d,c){var e=b.toLowerCase();"undefined"!==typeof a.windowEventHandler[e]&&a.windowEventHandler[e](e,d,!0)||a.m_window_addEventListener.call(window,b,d,c)};a.m_document_removeEventListener=document.removeEventListener;a.m_window_removeEventListener=window.removeEventListener;document.removeEventListener=function(b,d,c){var e=b.toLowerCase();"undefined"!==typeof a.documentEventHandler[e]&&
a.documentEventHandler[e](e,d,!1)||a.m_document_removeEventListener.call(document,b,d,c)};window.removeEventListener=function(b,d,c){var e=b.toLowerCase();"undefined"!==typeof a.windowEventHandler[e]&&a.windowEventHandler[e](e,d,!1)||a.m_window_removeEventListener.call(window,b,d,c)};a.fireDocumentEvent=function(b,a){var c=document.createEvent("Events");c.initEvent(b,!1,!1);if(a)for(var e in a)c[e]=a[e];document.dispatchEvent(c)};a.fireWindowEvent=function(b,a){var c=document.createEvent("Events");
c.initEvent(b,!1,!1);if(a)for(var e in a)c[e]=a[e];window.dispatchEvent(c)};a.addConstructor=function(b){a.onCordovaInit.subscribeOnce(function(){try{b()}catch(a){"undefined"!=typeof debug&&"function"==typeof debug.log?debug.log("Failed to run constructor: "+debug.processMessage(a)):alert("Failed to run constructor: "+a.message)}})};window.plugins||(window.plugins={});a.addPlugin=function(b,a){window.plugins[b]?console.log("Plugin "+b+" already exists."):window.plugins[b]=a};a.callbackId=0;a.callbacks=
{};a.callbackStatus={NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9};a.callbackSuccess=function(b,d){if(a.callbacks[b]){if(d.status==a.callbackStatus.OK)try{a.callbacks[b].success&&a.callbacks[b].success(d.message)}catch(c){console.log("Error in success callback: "+b+" = "+c)}d.keepCallback||delete a.callbacks[b]}};a.callbackError=function(b,d){if(a.callbacks[b]){try{a.callbacks[b].fail&&
a.callbacks[b].fail(d.message)}catch(c){console.log("Error in error callback: "+b+" = "+c)}d.keepCallback||delete a.callbacks[b]}};a.exec=function(b,d,c,e,f){try{var j=cordova.PluginManager.exec(b,d,c,e,f);if(j.status==a.callbackStatus.OK){if(b)try{b(j.message)}catch(g){console.log("Error in success callback: "+callbackId+" = "+g)}return j.message}if(j.status!=a.callbackStatus.NO_RESULT){console.log("Error: Status="+j.status+" Message="+j.message);if(d)try{d(j.message)}catch(i){console.log("Error in error callback: "+
callbackId+" = "+i)}return null}}catch(h){console.log("Error: "+h)}};a.clone=function(b){if(!b)return b;if(b instanceof Array){for(var d=[],c=0;c<b.length;++c)d.push(a.clone(b[c]));return d}if(b instanceof Function||!(b instanceof Object)||b instanceof Date)return b;d={};for(c in b)if(!(c in d)||d[c]!=b[c])d[c]=a.clone(b[c]);return d};a.close=function(b,a,c){return typeof c==="undefined"?function(){return a.apply(b,arguments)}:function(){return a.apply(b,c)}};a.createUUID=function(){return a.UUIDcreatePart(4)+
"-"+a.UUIDcreatePart(2)+"-"+a.UUIDcreatePart(2)+"-"+a.UUIDcreatePart(2)+"-"+a.UUIDcreatePart(6)};a.UUIDcreatePart=function(b){for(var a="",c=0;c<b;c++){var e=parseInt(Math.random()*256).toString(16);e.length==1&&(e="0"+e);a=a+e}return a};a.extend=function(){var b=function(){};return function(a,c){b.prototype=c.prototype;a.prototype=new b;a.__super__=c.prototype;a.prototype.constructor=a}}();return a}();"undefined"!==typeof _nativeReady&&Cordova.onNativeReady.fire();
window.cordova||(window.cordova={});(function(){var a={};cordova.WebWorksPluginManager=function(){};cordova.WebWorksPluginManager.prototype.exec=function(b,d,c,e,f){return a[c]?a[c].execute(e,f,b,d):{status:Cordova.callbackStatus.CLASS_NOT_FOUND_EXCEPTION,message:"Class "+c+" cannot be found"}}})();
(function(){function a(){typeof cordova.Logger==="undefined"&&typeof console==="undefined"&&(console={log:function(b){Cordova.exec(null,null,"Logger","log",b)}})}a.prototype.log=function(b){Cordova.exec(null,null,"Logger","log",b)};Cordova.addConstructor(function(){cordova.Logger=new a})})();
(function(){if(typeof navigator.battery==="undefined"){var a=function(){this._isPlugged=this._level=null;this._batteryListener=[];this._lowListener=[];this._criticalListener=[]};a.prototype.eventHandler=function(b,a,c){var e=navigator.battery;if(c){e._batteryListener.length===0&&e._lowListener.length===0&&e._criticalListener.length===0&&Cordova.exec(e._status,e._error,"Battery","start",[]);if(b==="batterystatus"){b=e._batteryListener.indexOf(a);b===-1&&e._batteryListener.push(a)}else if(b==="batterylow"){b=
e._lowListener.indexOf(a);b===-1&&e._lowListener.push(a)}else if(b==="batterycritical"){b=e._criticalListener.indexOf(a);b===-1&&e._criticalListener.push(a)}}else{if(b==="batterystatus"){b=e._batteryListener.indexOf(a);b>-1&&e._batteryListener.splice(b,1)}else if(b==="batterylow"){b=e._lowListener.indexOf(a);b>-1&&e._lowListener.splice(b,1)}else if(b==="batterycritical"){b=e._criticalListener.indexOf(a);b>-1&&e._criticalListener.splice(b,1)}e._batteryListener.length===0&&e._lowListener.length===0&&
e._criticalListener.length===0&&Cordova.exec(null,null,"Battery","stop",[])}};a.prototype._status=function(a){if(a){if(this._level!=a.level||this._isPlugged!=a.isPlugged){Cordova.fireWindowEvent("batterystatus",a);if(a.level==20||a.level==5)a.level==20?Cordova.fireWindowEvent("batterylow",a):Cordova.fireWindowEvent("batterycritical",a)}this._level=a.level;this._isPlugged=a.isPlugged}};a.prototype._error=function(a){console.log("Error initializing Battery: "+a)};Cordova.addConstructor(function(){if(typeof navigator.battery===
"undefined"){navigator.battery=new a;Cordova.addWindowEventHandler("batterystatus",navigator.battery.eventHandler);Cordova.addWindowEventHandler("batterylow",navigator.battery.eventHandler);Cordova.addWindowEventHandler("batterycritical",navigator.battery.eventHandler)}})}})();
window.cordova.PluginManager=function(a){var b={status:Cordova.callbackStatus.INVALID_ACTION,message:"Action not found"},d={Logger:{execute:function(a,e,f){switch(e){case "log":org.apache.cordova.Logger.log(f);return{status:Cordova.callbackStatus.OK,message:"Message logged to console: "+f}}return b}}};cordova.BlackBerryPluginManager=function(){};cordova.BlackBerryPluginManager.prototype.exec=function(b,e,f,j,g){var i=a.exec(b,e,f,j,g);if(i.status===Cordova.callbackStatus.CLASS_NOT_FOUND_EXCEPTION||
i.status===Cordova.callbackStatus.INVALID_ACTION||i.status===Cordova.callbackStatus.OK){if(d[f])return d[f].execute(i.message,j,g,b,e);i=this.subExec(b,e,f,j,g)}return i};cordova.BlackBerryPluginManager.prototype.subExec=function(a,b,f,d,g){var i=f+Cordova.callbackId++,h,k;try{if(a||b)Cordova.callbacks[i]={success:a,fail:b};h=""+org.apache.cordova.JavaPluginManager.exec(f,d,i,JSON.stringify(g),true);if(h.length>0){eval("evalResult = "+h+";");if((void 0).status===Cordova.callbackStatus.OK)a&&((void 0).keepCallback||
delete Cordova.callbacks[i]);else if((void 0).status===Cordova.callbackStatus.NO_RESULT)(void 0).keepCallback||delete Cordova.callbacks[i];else{console.log("Error: Status="+(void 0).status+" Message="+(void 0).message);b&&((void 0).keepCallback||delete Cordova.callbacks[i])}k=void 0}else k={status:Cordova.callbackStatus.NO_RESULT,message:""}}catch(l){console.log("BlackBerryPluginManager Error: "+l);k={status:Cordova.callbackStatus.ERROR,message:l.message}}return k};cordova.BlackBerryPluginManager.prototype.resume=
org.apache.cordova.JavaPluginManager.resume;cordova.BlackBerryPluginManager.prototype.pause=org.apache.cordova.JavaPluginManager.pause;cordova.BlackBerryPluginManager.prototype.destroy=org.apache.cordova.JavaPluginManager.destroy;return new cordova.BlackBerryPluginManager}(new cordova.WebWorksPluginManager);
(function(){function a(){var a=this;Cordova.exec(function(d){a.platform=d.platform;a.version=d.version;a.name=d.name;a.uuid=d.uuid;a.cordova=d.cordova},function(a){console.log("Error initializing Cordova: "+a)},"Device","getDeviceInfo",[])}Cordova.addConstructor(function(){var b;window.device=new a;if(typeof navigator.device==="undefined")navigator.device={};for(b in window.device)navigator.device[b]=window.device[b];Cordova.onCordovaInfoReady.fire()})})();function FileError(){this.code=null}
FileError.NOT_FOUND_ERR=1;FileError.SECURITY_ERR=2;FileError.ABORT_ERR=3;FileError.NOT_READABLE_ERR=4;FileError.ENCODING_ERR=5;FileError.NO_MODIFICATION_ALLOWED_ERR=6;FileError.INVALID_STATE_ERR=7;FileError.SYNTAX_ERR=8;FileError.INVALID_MODIFICATION_ERR=9;FileError.QUOTA_EXCEEDED_ERR=10;FileError.TYPE_MISMATCH_ERR=11;FileError.PATH_EXISTS_ERR=12;
(function(){function a(){}if(typeof navigator.fileMgr==="undefined"){a.prototype.getFreeDiskSpace=function(a){return blackberry.io.dir.getFreeSpaceForRoot(a)};a.prototype.testFileExists=function(a){return blackberry.io.file.exists(a)};a.prototype.testDirectoryExists=function(a){return blackberry.io.dir.exists(a)};a.prototype.readAsText=function(a,d,c,e){Cordova.exec(c,e,"File","readAsText",[a,d])};a.prototype.readAsDataURL=function(a,d,c){Cordova.exec(d,c,"File","readAsDataURL",[a])};a.prototype.write=
function(a,d,c,e,f){Cordova.exec(e,f,"File","write",[a,d,c])};a.prototype.truncate=function(a,d,c,e){Cordova.exec(c,e,"File","truncate",[a,d])};Cordova.addConstructor(function(){navigator.fileMgr=new a})}})();
var FileReader=FileReader||function(){function a(){this.fileName="";this.readyState=0;this.onabort=this.onloadend=this.onerror=this.onload=this.onprogress=this.onloadstart=this.error=this.result=null}a.EMPTY=0;a.LOADING=1;a.DONE=2;a.prototype.abort=function(){var b;this.readyState=a.DONE;this.result=null;b=new FileError;b.code=b.ABORT_ERR;this.error=b;if(typeof this.onerror=="function"){b={type:"error",target:this};this.onerror(b)}if(typeof this.onabort=="function"){b={type:"abort",target:this};this.onabort(b)}if(typeof this.onloadend==
"function"){b={type:"loadend",target:this};this.onloadend(b)}};a.prototype.readAsText=function(b,d){var c,e=d?d:"UTF-8";this.readyState=a.LOADING;if(typeof this.onloadstart=="function"){c={type:"loadstart",target:this};this.onloadstart(c)}this.fileName=b.fullPath;var f=this;navigator.fileMgr.readAsText(b.fullPath,e,function(e){if(f.readyState!==a.DONE){f.result=e;if(typeof f.onload=="function"){c={type:"load",target:f};f.onload(c)}f.readyState=a.DONE;if(typeof f.onloadend=="function"){c={type:"loadend",
target:f};f.onloadend(c)}}},function(e){if(f.readyState!==a.DONE){var b=new FileError;b.code=e;f.error=b;f.result=null;if(typeof f.onerror=="function"){c={type:"error",target:f};f.onerror(c)}f.readyState=a.DONE;if(typeof f.onloadend=="function"){c={type:"loadend",target:f};f.onloadend(c)}}})};a.prototype.readAsDataURL=function(b){var d;this.readyState=a.LOADING;if(typeof this.onloadstart=="function"){d={type:"loadstart",target:this};this.onloadstart(d)}this.fileName=b.fullPath;var c=this;navigator.fileMgr.readAsDataURL(b.fullPath,
function(e){if(c.readyState!==a.DONE){c.result=e;if(typeof c.onload=="function"){d={type:"load",target:c};c.onload(d)}c.readyState=a.DONE;if(typeof c.onloadend=="function"){d={type:"loadend",target:c};c.onloadend(d)}}},function(e){if(c.readyState!==a.DONE){var b=new FileError;b.code=e;c.error=b;c.result=null;if(typeof c.onerror=="function"){d={type:"error",target:c};c.onerror(d)}c.readyState=a.DONE;if(typeof c.onloadend=="function"){d={type:"loadend",target:c};c.onloadend(d)}}})};a.prototype.readAsBinaryString=
function(a){this.fileName=typeof a.fullPath==="undefined"?a:a.fullPath};a.prototype.readAsArrayBuffer=function(a){this.fileName=typeof a.fullPath==="undefined"?a:a.fullPath};return a}(),FileWriter=FileWriter||function(){function a(a){this.fileName=a.fullPath||null;this.length=a.size||0;this.readyState=this.position=0;this.onerror=this.onabort=this.onwriteend=this.onwrite=this.onprogress=this.onwritestart=this.error=null}a.INIT=0;a.WRITING=1;a.DONE=2;a.prototype.abort=function(){var b;if(this.readyState===
a.DONE||this.readyState===a.INIT)throw FileError.INVALID_STATE_ERR;b=new FileError;b.code=b.ABORT_ERR;this.error=b;if(typeof this.onerror=="function"){b={type:"error",target:this};this.onerror(b)}if(typeof this.onabort=="function"){b={type:"abort",target:this};this.onabort(b)}this.readyState=a.DONE;if(typeof this.writeend=="function"){b={type:"writeend",target:this};this.writeend(b)}};a.prototype.seek=function(b){if(this.readyState===a.WRITING)throw FileError.INVALID_STATE_ERR;if(b)this.position=
b>this.length?this.length:b<0?Math.max(b+this.length,0):b};a.prototype.truncate=function(b){var d;if(this.readyState===a.WRITING)throw FileError.INVALID_STATE_ERR;this.readyState=a.WRITING;if(typeof this.onwritestart=="function"){d={type:"writestart",target:this};this.onwritestart(d)}var c=this;navigator.fileMgr.truncate(this.fileName,b,function(e){if(c.readyState!==a.DONE){c.length=e;c.position=Math.min(c.position,e);if(typeof c.onwrite=="function"){d={type:"write",target:c};c.onwrite(d)}c.readyState=
a.DONE;if(typeof c.onwriteend=="function"){d={type:"writeend",target:c};c.onwriteend(d)}}},function(e){if(c.readyState!==a.DONE){var b=new FileError;b.code=e;c.error=b;if(typeof c.onerror=="function"){d={type:"error",target:c};c.onerror(d)}c.readyState=a.DONE;if(typeof c.onwriteend=="function"){d={type:"writeend",target:c};c.onwriteend(d)}}})};a.prototype.write=function(b){var d;if(this.readyState===a.WRITING)throw FileError.INVALID_STATE_ERR;this.readyState=a.WRITING;if(typeof this.onwritestart==
"function"){d={type:"writestart",target:this};this.onwritestart(d)}var c=this;navigator.fileMgr.write(this.fileName,b,this.position,function(e){if(c.readyState!==a.DONE){c.position=c.position+e;c.length=c.position;if(typeof c.onwrite=="function"){d={type:"write",target:c};c.onwrite(d)}c.readyState=a.DONE;if(typeof c.onwriteend=="function"){d={type:"writeend",target:c};c.onwriteend(d)}}},function(e){if(c.readyState!==a.DONE){var b=new FileError;b.code=e;c.error=b;if(typeof c.onerror=="function"){d=
{type:"error",target:c};c.onerror(d)}c.readyState=a.DONE;if(typeof c.onwriteend=="function"){d={type:"writeend",target:c};c.onwriteend(d)}}})};return a}(),Entry=Entry||function(){function a(b){if(!(this instanceof a))return new a(b);this.isFile=b&&b.isFile===true?true:false;this.isDirectory=b&&b.isDirectory===true?true:false;this.name=b&&b.name||"";this.fullPath=b&&b.fullPath||""}a.prototype.getMetadata=function(a,d){Cordova.exec(function(c){var e=new Metadata;e.modificationTime=new Date(c);typeof a===
"function"&&a(e)},function(a){LocalFileSystem.onError(a,d)},"File","getMetadata",[this.fullPath])};a.prototype.moveTo=function(a,d,c,e){var f=this.fullPath,d=d||this.name,j=function(a){LocalFileSystem.onError(a,e)};a?Cordova.exec(function(a){if(a){a=a.isDirectory?new DirectoryEntry(a):new FileEntry(a);try{c(a)}catch(e){console.log("Error invoking callback: "+e)}}else j(FileError.NOT_FOUND_ERR)},j,"File","moveTo",[f,a.fullPath,d]):j(FileError.NOT_FOUND_ERR)};a.prototype.copyTo=function(a,d,c,e){var f=
this.fullPath,d=d||this.name,j=function(a){LocalFileSystem.onError(a,e)};a?Cordova.exec(function(a){if(a){a=a.isDirectory?new DirectoryEntry(a):new FileEntry(a);try{c(a)}catch(e){console.log("Error invoking callback: "+e)}}else j(FileError.NOT_FOUND_ERR)},j,"File","copyTo",[f,a.fullPath,d]):j(FileError.NOT_FOUND_ERR)};a.prototype.toURL=function(){return this.fullPath};a.prototype.toURI=function(){console.log("DEPRECATED: Update your code to use 'toURL'");return this.fullPath};a.prototype.remove=function(a,
d){var c=this.fullPath,e=[];if(blackberry.io.file.exists(c))try{blackberry.io.file.deleteFile(c);typeof a==="function"&&a()}catch(f){LocalFileSystem.onError(FileError.INVALID_MODIFICATION_ERR,d)}else if(blackberry.io.dir.exists(c))if(LocalFileSystem.isFileSystemRoot(c))LocalFileSystem.onError(FileError.NO_MODIFICATION_ALLOWED_ERR,d);else{e=blackberry.io.dir.listFiles(c);if(e.length!==0)LocalFileSystem.onError(FileError.INVALID_MODIFICATION_ERR,d);else try{blackberry.io.dir.deleteDirectory(c,false);
typeof a==="function"&&a()}catch(j){LocalFileSystem.onError(FileError.NO_MODIFICATION_ALLOWED_ERR,d)}}else LocalFileSystem.onError(FileError.NOT_FOUND_ERR,d)};a.prototype.getParent=function(a,d){var c=this;try{window.requestFileSystem(LocalFileSystem.TEMPORARY,0,function(e){e.root.fullPath===c.fullPath?a(e.root):window.resolveLocalFileSystemURI(blackberry.io.dir.getParentDirectory(c.fullPath),a,d)},function(a){LocalFileSystem.onError(a,d)})}catch(e){LocalFileSystem.onError(FileError.NOT_FOUND_ERR,
d)}};return a}(),DirectoryEntry=DirectoryEntry||function(){function a(b){a.__super__.constructor.apply(this,arguments)}function b(a){this.path=a||null}Cordova.extend(a,Entry);a.prototype.getFile=function(a,b,e,f){var j=b&&b.create===true?true:false,b=b&&b.exclusive===true?true:false,g,i=function(){var b=a.split("/"),b=new FileEntry({name:b[b.length-1],isDirectory:false,isFile:true,fullPath:a});typeof e==="function"&&e(b)};if(a){a.indexOf(this.fullPath)!==0&&(a=this.fullPath+"/"+a);try{g=blackberry.io.file.exists(a)}catch(h){LocalFileSystem.onError(FileError.ENCODING_ERR,
f);return}if(g)if(j&&b)LocalFileSystem.onError(FileError.PATH_EXISTS_ERR,f);else i();else if(blackberry.io.dir.exists(a))LocalFileSystem.onError(FileError.TYPE_MISMATCH_ERR,f);else if(j)navigator.fileMgr.write(a,"",0,function(){i()},function(a){LocalFileSystem.onError(a,f)});else LocalFileSystem.onError(FileError.NOT_FOUND_ERR,f)}else LocalFileSystem.onError(FileError.ENCODING_ERR,f)};a.prototype.getDirectory=function(b,c,e,f){var j=c&&c.create===true?true:false,g=c&&c.exclusive===true?true:false,
i,c=function(){var f=b.split("/"),f=new a({name:f[f.length-1],isDirectory:true,isFile:false,fullPath:b});typeof e==="function"&&e(f)};if(b){b.indexOf(this.fullPath)!==0&&(b=this.fullPath+"/"+b);try{i=blackberry.io.dir.exists(b)}catch(h){LocalFileSystem.onError(FileError.ENCODING_ERR,f);return}if(i)if(j&&g)LocalFileSystem.onError(FileError.PATH_EXISTS_ERR,f);else c();else if(blackberry.io.file.exists(b))LocalFileSystem.onError(FileError.TYPE_MISMATCH_ERR,f);else if(j)try{j=b;j.substr(-1)!=="/"&&(j=
j+"/");blackberry.io.dir.createNewDir(j);c()}catch(k){LocalFileSystem.onError(FileError.NOT_FOUND_ERR,f)}else LocalFileSystem.onError(FileError.NOT_FOUND_ERR,f)}else LocalFileSystem.onError(FileError.ENCODING_ERR,f)};a.prototype.removeRecursively=function(a,b){var e=this.fullPath;if(blackberry.io.dir.exists(e))if(LocalFileSystem.isFileSystemRoot(e))LocalFileSystem.onError(FileError.NO_MODIFICATION_ALLOWED_ERR,b);else try{blackberry.io.dir.deleteDirectory(e,true);typeof a==="function"&&a()}catch(f){console.log(f);
LocalFileSystem.onError(FileError.NO_MODIFICATION_ALLOWED_ERR,b)}else if(blackberry.io.file.exists(e))LocalFileSystem.onError(FileError.TYPE_MISMATCH_ERR,b);else LocalFileSystem.onError(FileError.NOT_FOUND_ERR,b)};a.prototype.createReader=function(){return new b(this.fullPath)};b.prototype.readEntries=function(b,c){var e=this.path,f=function(f){var g,i,h,k=[];try{g=JSON.parse(f)}catch(l){console.log("unable to parse JSON: "+l);LocalFileSystem.onError(FileError.SYNTAX_ERR,c);return}/\/$/.test(e)===
false&&(e=e+"/");h=0;for(f=g.length;h<f;h=h+1){i=g[h];if(/\/$/.test(i)===true){i=i.substring(0,i.length-1);i=new a({name:i,fullPath:e+i,isFile:false,isDirectory:true})}else i=new FileEntry({name:i,fullPath:e+i,isFile:true,isDirectory:false});k.push(i)}try{b(k)}catch(m){console.log("Error invoking callback: "+m)}};if(blackberry.io.dir.exists(e))Cordova.exec(f,c,"File","readEntries",[e]);else LocalFileSystem.onError(FileError.NOT_FOUND_ERR,c)};return a}(),FileEntry=FileEntry||function(){function a(b){a.__super__.constructor.apply(this,
arguments)}Cordova.extend(a,Entry);a.prototype.createWriter=function(a,d){var c;this.file(function(e){try{c=new FileWriter(e);a(c)}catch(f){console.log("Error invoking callback: "+f)}},d)};a.prototype.file=function(a,d){var c,e;if(blackberry.io.file.exists(this.fullPath)){c=blackberry.io.file.getFileProperties(this.fullPath);e=new File;e.name=this.name;e.fullPath=this.fullPath;e.type=c.mimeType;e.lastModifiedDate=c.dateModified;e.size=c.size;try{a(e)}catch(f){console.log("Error invoking callback: "+
f)}}else if(blackberry.io.dir.exists(this.fullPath))LocalFileSystem.onError(FileError.TYPE_MISMATCH_ERR,d);else LocalFileSystem.onError(FileError.NOT_FOUND_ERR,d)};return a}();function FileSystem(){this.root=this.name=null}function Metadata(){this.modificationTime=null}function Flags(a,b){this.create=a||false;this.exclusive=b||false}
var File=function(){return function(){this.lastModifiedDate=this.type=this.fullPath=this.name=null;this.size=0}}(),LocalFileSystem=LocalFileSystem||function(){var a={TEMPORARY:0,PERSISTENT:1,onError:function(a,e){var b=new FileError;b.code=a;try{e(b)}catch(d){console.log("Error invoking callback: "+d)}},isFileSystemRoot:function(a){return Cordova.exec(null,null,"File","isFileSystemRoot",[a])}},b=function(b,e,f,d){var g=function(e){a.onError(e,d)};Cordova.exec(function(a){var e;if(a){e={name:a.name||
null};e.root=new DirectoryEntry(a.root);try{f(e)}catch(b){console.log("Error invoking callback: "+b)}}else g(FileError.NOT_FOUND_ERR)},g,"File","requestFileSystem",[b,e])},d=function(b,e,f){var d=function(e){a.onError(e,f)};Cordova.exec(function(a){if(a){a=a.isDirectory?new DirectoryEntry(a):new FileEntry(a);try{e(a)}catch(b){console.log("Error invoking callback: "+b)}}else d(FileError.NOT_FOUND_ERR)},d,"File","resolveLocalFileSystemURI",[b])};Cordova.addConstructor(function(){if(typeof window.requestFileSystem===
"undefined")window.requestFileSystem=b;if(typeof window.resolveLocalFileSystemURI==="undefined")window.resolveLocalFileSystemURI=d});return a}(),Acceleration=function(a,b,d){this.x=a;this.y=b;this.z=d;this.timestamp=(new Date).getTime()};
(function(){function a(){this.lastAcceleration=null;this.timers={}}if(typeof navigator.accelerometer==="undefined"){a.prototype.getCurrentAcceleration=function(a,d){typeof a!=="function"?console.log("Accelerometer Error: successCallback is not a function"):d&&typeof d!=="function"?console.log("Accelerometer Error: errorCallback is not a function"):Cordova.exec(a,d,"Accelerometer","getAcceleration",[])};a.prototype.watchAcceleration=function(a,d,c){var e=c!=void 0?c.frequency:1E4;if(typeof a!="function")console.log("Accelerometer Error: successCallback is not a function");
else if(d&&typeof d!="function")console.log("Accelerometer Error: errorCallback is not a function");else{Cordova.exec(function(a){a<e+1E4&&Cordova.exec(null,null,"Accelerometer","setTimeout",[e+1E4])},function(){},"Accelerometer","getTimeout",[]);c=Cordova.createUUID();navigator.accelerometer.timers[c]=setInterval(function(){Cordova.exec(a,d,"Accelerometer","getAcceleration",[])},e?e:1);return c}};a.prototype.clearWatch=function(a){if(a&&navigator.accelerometer.timers[a]!=void 0){clearInterval(navigator.accelerometer.timers[a]);
delete navigator.accelerometer.timers[a]}};Cordova.addConstructor(function(){navigator.accelerometer=new a})}})();
(function(){if(typeof navigator.app==="undefined"){var a=function(){this._resumeListener=[];this._pauseListener=[]},b=function(){Cordova.fireDocumentEvent("resume");cordova.PluginManager.resume()},d=function(){Cordova.fireDocumentEvent("pause");cordova.PluginManager.pause()},c=function(){if(typeof window.onunload==="function")window.onunload();cordova.PluginManager.destroy();blackberry.app.exit()};a.prototype.backHistory=function(){Cordova.exec(null,null,"App","backHistory",[])};a.prototype.clearCache=
function(){typeof blackberry.widgetcache==="undefined"||blackberry.widgetcache===null?console.log("blackberry.widgetcache permission not found. Cache clear denied."):blackberry.widgetcache.clearAll()};a.prototype.clearHistory=function(){Cordova.exec(null,null,"App","clearHistory",[])};a.prototype.exitApp=c;a.prototype._eventHandler=function(a,f,c){var g=navigator.app;if(c){g._resumeListener.length===0&&g._pauseListener.length===0&&Cordova.exec(function(a){a===true?b():d()},function(){console.log("Error detecting backlight on/off")},
"App","detectBacklight",[]);if(a==="resume"){a=g._resumeListener.indexOf(f);a===-1&&g._resumeListener.push(f)}else if(a==="pause"){a=g._pauseListener.indexOf(f);a===-1&&g._pauseListener.push(f)}}else{if(a==="resume"){a=g._resumeListener.indexOf(f);a>-1&&g._resumeListener.splice(a,1)}else if(a==="pause"){a=g._pauseListener.indexOf(f);a>-1&&g._pauseListener.splice(a,1)}g._resumeListener.length===0&&g._pauseListener.length===0&&Cordova.exec(null,null,"App","ignoreBacklight",[])}};Cordova.addConstructor(function(){navigator.app=
new a;Cordova.addDocumentEventHandler("pause",navigator.app._eventHandler);Cordova.addDocumentEventHandler("resume",navigator.app._eventHandler)});blackberry.app.event.onForeground(b);blackberry.app.event.onBackground(d);if(blackberry.app.event.onExit)blackberry.app.event.onExit(c)}})();
(function(){if(typeof Cordova.documentEventHandler.backbutton==="undefined"&&!(typeof blackberry.system.event==="undefined"||blackberry.system.event===null)){var a={backbutton:blackberry.system.event.KEY_BACK,conveniencebutton1:blackberry.system.event.KEY_CONVENIENCE_1,conveniencebutton2:blackberry.system.event.KEY_CONVENIENCE_2,endcallbutton:blackberry.system.event.KEY_ENDCALL,menubutton:blackberry.system.event.KEY_MENU,startcallbutton:blackberry.system.event.KEY_STARTCALL,volumedownbutton:blackberry.system.event.KEY_VOLUMEDOWN,
volumeupbutton:blackberry.system.event.KEY_VOLUMEUP},b={backbutton:[],conveniencebutton1:[],conveniencebutton2:[],endcallbutton:[],menubutton:[],startcallbutton:[],volumedownbutton:[],volumeupbutton:[]},d=function(a){return function(){Cordova.fireDocumentEvent(a,null)}},c=function(){};c.prototype.eventHandler=function(e,f,c){if(!(e===null||f===null)&&typeof a[e]!=="undefined"){var g=b[e].indexOf(f);if(c){if(g===-1){if(b[e].length===0)blackberry.system.event.onHardwareKey(a[e],d(e));b[e].push(f)}}else if(g>
-1){b[e].splice(g,1);if(b[e].length===0)blackberry.system.event.onHardwareKey(a[e],null)}}};Cordova.addConstructor(function(){var e=new c,b;for(b in a)Cordova.addDocumentEventHandler(b,e.eventHandler)})}})();
var Camera=Camera||function(){function a(){}var b={DATA_URL:0,FILE_URI:1},d={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},c={JPEG:0,PNG:1};a.prototype.DestinationType=b;a.prototype.PictureSourceType=d;a.prototype.EncodingType=c;a.prototype.getPicture=function(a,f,j){if(typeof a!="function")console.log("Camera Error: successCallback is not a function");else if(f&&typeof f!="function")console.log("Camera Error: errorCallback is not a function");else{if(typeof j.quality=="number")quality=j.quality;else if(typeof j.quality==
"string"){var g=new Number(j.quality);isNaN(g)===false&&(quality=g.valueOf())}g=b.FILE_URI;if(j.destinationType)g=j.destinationType;var i=d.CAMERA;if(typeof j.sourceType=="number")i=j.sourceType;var h=-1;if(typeof j.targetWidth=="number")h=j.targetWidth;else if(typeof j.targetWidth=="string"){var k=new Number(j.targetWidth);isNaN(k)===false&&(h=k.valueOf())}k=-1;if(typeof j.targetHeight=="number")k=j.targetHeight;else if(typeof j.targetHeight=="string"){var l=new Number(j.targetHeight);isNaN(l)===
false&&(k=l.valueOf())}l=c.JPEG;if(typeof j.encodingType=="number")l=j.encodingType;Cordova.exec(a,f,"Camera","takePicture",[quality,g,i,h,k,l])}};Cordova.addConstructor(function(){navigator.camera=new a});return{DestinationType:b,PictureSourceType:d,EncodingType:c}}();function MediaFileDataError(){this.code=0}MediaFileDataError.UNKNOWN_ERROR=0;MediaFileDataError.TIMEOUT_ERROR=1;
var MediaFile=MediaFile||function(){function a(){a.__super__.constructor.apply(this,arguments)}function b(){this.codecs=null;this.duration=this.width=this.height=this.bitrate=0}Cordova.extend(a,File);a.prototype.getFormatData=function(a){try{a(new b)}catch(c){console.log("Unable to invoke success callback: "+c)}};return a}();function CaptureError(){this.code=0}CaptureError.CAPTURE_INTERNAL_ERR=0;CaptureError.CAPTURE_APPLICATION_BUSY=1;CaptureError.CAPTURE_INVALID_ARGUMENT=2;
CaptureError.CAPTURE_NO_MEDIA_FILES=3;CaptureError.CAPTURE_NOT_SUPPORTED=20;function ConfigurationData(){this.type;this.width=this.height=0}function CaptureImageOptions(){this.limit=1;this.mode}function CaptureVideoOptions(){this.limit=1;this.duration;this.mode}function CaptureAudioOptions(){this.limit=1;this.duration;this.mode}
(function(){function a(){var a=this,f=function(f,c){a[f]=c;typeof a.supportedAudioModes!=="undefined"&&typeof a.supportedImageModes!=="undefined"&&typeof a.supportedVideoModes!=="undefined"&&Cordova.initializationComplete(b)};Cordova.exec(function(a){f("supportedAudioModes",d(a))},function(a){console.log("Unable to retrieve supported audio modes: "+a);f("supportedAudioModes",[])},"MediaCapture","getSupportedAudioModes",[]);Cordova.exec(function(a){f("supportedImageModes",d(a))},function(a){console.log("Unable to retrieve supported image modes: "+
a);f("supportedImageModes",[])},"MediaCapture","getSupportedImageModes",[]);Cordova.exec(function(a){f("supportedVideoModes",d(a))},function(a){console.log("Unable to retrieve supported video modes: "+a);f("supportedVideoModes",[])},"MediaCapture","getSupportedVideoModes",[])}if(!(navigator.device&&typeof navigator.device.capture!=="undefined")){var b="navigator.device.capture",d=function(a){var b=[];try{b=JSON.parse(a)}catch(c){console.log("unable to parse JSON: "+c)}return b},c=function(a){var b=
[],c,g,i,h,k;c=d(a);for(h=0;i=c.length,h<i;h=h+1){g=c[h];a=new MediaFile;for(k in g)a[k]=g[k];b.push(a)}return b};a.onError=function(a,b){var c=new CaptureError;c.code=a;try{b(c)}catch(d){console.log("Error invoking callback: "+d)}};a.prototype.captureImage=function(b,f,d){var g=1,i=null;if(d){if(typeof d.limit==="number"&&d.limit>g)g=d.limit;if(d.mode)i=d.mode}Cordova.exec(function(a){b(c(a))},function(b){a.onError(b,f)},"MediaCapture","captureImage",[g,i])};a.prototype.captureVideo=function(b,f,
d){var g=1,i=0,h=null;if(d){if(typeof d.limit==="number"&&d.limit>g)g=d.limit;if(typeof d.duration==="number"&&d.duration>0)i=d.duration;if(d.mode)h=d.mode}Cordova.exec(function(a){b(c(a))},function(b){a.onError(b,f)},"MediaCapture","captureVideo",[g,i,h])};a.prototype.captureAudio=function(b,f,d){var g=1,i=0,h=null;if(d){if(typeof d.limit==="number"&&d.limit>g)g=d.limit;if(typeof d.duration==="number"&&d.duration>0)i=d.duration;if(d.mode)h=d.mode}Cordova.exec(function(a){b(c(a))},function(b){a.onError(b,
f)},"MediaCapture","captureAudio",[g,i,h])};a.prototype.cancelCaptures=function(){Cordova.exec(null,null,"MediaCapture","stopCaptures",[])};Cordova.addConstructor(function(){Cordova.waitForInitialization(b);if(typeof navigator.device==="undefined")navigator.device={};navigator.device.capture=new a})}})();var ContactError=function(a){this.code=a};ContactError.UNKNOWN_ERROR=0;ContactError.INVALID_ARGUMENT_ERROR=1;ContactError.TIMEOUT_ERROR=2;ContactError.PENDING_OPERATION_ERROR=3;
ContactError.IO_ERROR=4;ContactError.NOT_SUPPORTED_ERROR=5;ContactError.PERMISSION_DENIED_ERROR=20;
var ContactName=function(a,b,d,c,e,f){this.formatted=a||null;this.familyName=b||null;this.givenName=d||null;this.middleName=c||null;this.honorificPrefix=e||null;this.honorificSuffix=f||null},ContactField=function(a,b,d){this.type=a||null;this.value=b||null;this.pref=d||false},ContactAddress=function(a,b,d,c,e,f,j,g){this.pref=a||false;this.type=b||null;this.formatted=d||null;this.streetAddress=c||null;this.locality=e||null;this.region=f||null;this.postalCode=j||null;this.country=g||null},ContactOrganization=
function(a,b,d,c,e){this.pref=a||false;this.type=b||null;this.name=d||null;this.department=c||null;this.title=e||null},Contact=Contact||function(){function a(a,b,c,d,i,h,k,l,m,n,o,p,q,r){this.id=a||null;this.displayName=b||null;this.name=c||null;this.nickname=d||null;this.phoneNumbers=i||null;this.emails=h||null;this.addresses=k||null;this.ims=l||null;this.organizations=m||null;this.birthday=n||null;this.note=o||null;this.photos=p||null;this.categories=q||null;this.urls=r||null}a.prototype.save=function(a,
b){try{var c=d(this);this.id=c.id;a&&a(c)}catch(g){console.log("Error saving contact: "+g);b&&b(new ContactError(ContactError.UNKNOWN_ERROR))}};a.prototype.remove=function(a,f){try{var c=null;this.id&&(c=b(this.id));if(c){console.log("removing contact: "+c.uid);c.remove();a&&a(this)}else f&&f(new ContactError(ContactError.UNKNOWN_ERROR))}catch(d){console.log("Error removing contact "+this.id+": "+d);f&&f(new ContactError(ContactError.UNKNOWN_ERROR))}};a.prototype.clone=function(){var a=Cordova.clone(this);
a.id=null;return a};var b=function(a){return!a?null:blackberry.pim.Contact.find(new blackberry.find.FilterExpression("uid","==",a))[0]||null},d=function(a){if(a){var f=null,d=false;a.id&&(f=b(a.id));f?d=true:f=new blackberry.pim.Contact;if(a.name!==null){if(a.name.givenName)f.firstName=a.name.givenName;if(a.name.familyName)f.lastName=a.name.familyName;if(a.name.honorificPrefix)f.title=a.name.honorificPrefix}if(a.displayName!==null)f.user1=a.displayName;if(a.note!==null)f.note=a.note;if(a.birthday!==
null)if(a.birthday instanceof Date)f.birthday=a.birthday;else{var g=a.birthday.toString();f.birthday=g.length>0?new Date(g):""}if(a.emails&&a.emails instanceof Array){if(d){f.email1="";f.email2="";f.email3=""}for(var i=null,g=0;g<a.emails.length;g=g+1)if((i=a.emails[g])&&i.value)if(f.email1==="")f.email1=i.value;else if(f.email2==="")f.email2=i.value;else if(f.email3==="")f.email3=i.value}if(a.phoneNumbers&&a.phoneNumbers instanceof Array){if(d){f.homePhone="";f.homePhone2="";f.workPhone="";f.workPhone2=
"";f.mobilePhone="";f.faxPhone="";f.pagerPhone="";f.otherPhone=""}for(var h=i=null,g=0;g<a.phoneNumbers.length;g=g+1)if(a.phoneNumbers[g]&&a.phoneNumbers[g].value){i=a.phoneNumbers[g].type;h=a.phoneNumbers[g].value;if(i==="home")if(f.homePhone==="")f.homePhone=h;else{if(f.homePhone2==="")f.homePhone2=h}else if(i==="work")if(f.workPhone==="")f.workPhone=h;else{if(f.workPhone2==="")f.workPhone2=h}else if(i==="mobile"&&f.mobilePhone==="")f.mobilePhone=h;else if(i==="fax"&&f.faxPhone==="")f.faxPhone=
h;else if(i==="pager"&&f.pagerPhone==="")f.pagerPhone=h;else if(f.otherPhone==="")f.otherPhone=h}}if(a.addresses&&a.addresses instanceof Array){if(d){f.homeAddress=null;f.workAddress=null}for(var k=h=i=null,g=0;g<a.addresses.length;g=g+1)if((i=a.addresses[g])&&i instanceof ContactAddress!==false)if(h===null&&(!i.type||i.type==="home")){h=c(i);f.homeAddress=h}else if(k===null&&(!i.type||i.type==="work")){k=c(i);f.workAddress=k}}if(a.urls&&a.urls instanceof Array){if(d)f.webpage="";i=null;for(g=0;g<
a.urls.length;g=g+1)if((i=a.urls[g])&&i.value&&f.webpage===""){f.webpage=i.value;break}}if(a.organizations&&a.organizations instanceof Array){if(d)f.company="";d=null;for(g=0;g<a.organizations.length;g=g+1)if((d=a.organizations[g])&&f.company===""){f.company=d.name||"";f.jobTitle=d.title||"";break}}if(a.categories&&a.categories instanceof Array){f.categories=[];d=null;for(g=0;g<a.categories.length;g=g+1){d=a.categories[g];typeof d=="string"&&f.categories.push(d)}}f.save();if(a.photos&&a.photos instanceof
Array){d=null;for(g=0;g<a.photos.length;g=g+1)if((d=a.photos[g])&&d.value){Cordova.exec(function(){},function(a){console.log("Contact.setPicture failed:"+a)},"Contact","setPicture",[f.uid,d.type,d.value]);break}}return navigator.contacts._createContact(f,["*"])}},c=function(a){var b=new blackberry.pim.Address;if(!a)return b;b.address1=a.streetAddress||"";b.city=a.locality||"";b.stateProvince=a.region||"";b.zipPostal=a.postalCode||"";b.country=a.country||"";return b};return a}(),ContactFindOptions=
function(a,b){this.filter=a||"";this.multiple=b||false};
(function(){if(typeof navigator.contacts==="undefined"){var a=function(){};a.prototype.create=function(a){var b=new Contact,c;for(c in a)b[c]!=="undefined"&&(b[c]=a[c]);return b};a.prototype.find=function(a,c,e,i){if(!c)throw new TypeError("You must specify a success callback for the find command.");if(!a||!(a instanceof Array)||a.length==0)typeof e==="function"&&e(new ContactError(ContactError.INVALID_ARGUMENT_ERROR));else{a.length==1&&a[0]==="*"&&(a=d);var e=1,h=null;if(i){i.multiple===true&&(e=
-1);h=i.filter}var k;i=a;if(!h||h==="")k=null;else{for(var l="",m=0;m<h.length;m++)l=l+"["+h[m].toLowerCase()+h[m].toUpperCase()+"]";h=".*"+l+".*";l=null;if(i&&i instanceof Array){var n=null;for(m in i)if(i[m]){var o=b[i[m]];if(o)for(k in o){n=new blackberry.find.FilterExpression(o[k],"REGEX",h);l=l===null?n:new blackberry.find.FilterExpression(l,"OR",n)}}}k=l}e=blackberry.pim.Contact.find(k,null,e);k=[];for(var p in e)e[p]&&k.push(this._createContact(e[p],a));c&&c instanceof Function?c(k):console.log("Error invoking Contacts.find success callback.")}};
var b={id:"uid",displayName:"user1",name:["title","firstName","lastName"],"name.formatted":["title","firstName","lastName"],"name.givenName":"firstName","name.familyName":"lastName","name.honorificPrefix":"title",phoneNumbers:["faxPhone","homePhone","homePhone2","mobilePhone","pagerPhone","otherPhone","workPhone","workPhone2"],"phoneNumbers.value":["faxPhone","homePhone","homePhone2","mobilePhone","pagerPhone","otherPhone","workPhone","workPhone2"],emails:["email1","email2","email3"],addresses:["homeAddress.address1",
"homeAddress.address2","homeAddress.city","homeAddress.stateProvince","homeAddress.zipPostal","homeAddress.country","workAddress.address1","workAddress.address2","workAddress.city","workAddress.stateProvince","workAddress.zipPostal","workAddress.country"],"addresses.formatted":["homeAddress.address1","homeAddress.address2","homeAddress.city","homeAddress.stateProvince","homeAddress.zipPostal","homeAddress.country","workAddress.address1","workAddress.address2","workAddress.city","workAddress.stateProvince",
"workAddress.zipPostal","workAddress.country"],"addresses.streetAddress":["homeAddress.address1","homeAddress.address2","workAddress.address1","workAddress.address2"],"addresses.locality":["homeAddress.city","workAddress.city"],"addresses.region":["homeAddress.stateProvince","workAddress.stateProvince"],"addresses.country":["homeAddress.country","workAddress.country"],organizations:["company","jobTitle"],"organizations.name":"company","organizations.title":"jobTitle",birthday:"birthday",note:"note",
categories:"categories",urls:"webpage","urls.value":"webpage"},d=[],c;for(c in b)b.hasOwnProperty(c)&&d.push(c);a.prototype._createContact=function(a,b){if(!a)return null;var c=new Contact(a.uid,a.user1);if(!b||!(b instanceof Array)||b.length==0)return c;b.length==1&&b[0]==="*"&&(b=d);for(var i in b){var h=b[i];if(h)if(h.indexOf("name")===0)c.name=new ContactName(a.title+" "+a.firstName+" "+a.lastName,a.lastName,a.firstName,null,a.title,null);else if(h.indexOf("phoneNumbers")===0){h=[];a.homePhone&&
h.push(new ContactField("home",a.homePhone));a.homePhone2&&h.push(new ContactField("home",a.homePhone2));a.workPhone&&h.push(new ContactField("work",a.workPhone));a.workPhone2&&h.push(new ContactField("work",a.workPhone2));a.mobilePhone&&h.push(new ContactField("mobile",a.mobilePhone));a.faxPhone&&h.push(new ContactField("fax",a.faxPhone));a.pagerPhone&&h.push(new ContactField("pager",a.pagerPhone));a.otherPhone&&h.push(new ContactField("other",a.otherPhone));c.phoneNumbers=h.length>0?h:null}else if(h.indexOf("emails")===
0){h=[];a.email1&&h.push(new ContactField(null,a.email1,null));a.email2&&h.push(new ContactField(null,a.email2,null));a.email3&&h.push(new ContactField(null,a.email3,null));c.emails=h.length>0?h:null}else if(h.indexOf("addresses")===0){h=[];a.homeAddress&&h.push(e("home",a.homeAddress));a.workAddress&&h.push(e("work",a.workAddress));c.addresses=h.length>0?h:null}else if(h.indexOf("birthday")===0){if(a.birthday)c.birthday=a.birthday}else if(h.indexOf("note")===0){if(a.note)c.note=a.note}else if(h.indexOf("organizations")===
0){h=[];(a.company||a.jobTitle)&&h.push(new ContactOrganization(null,null,a.company,null,a.jobTitle));c.organizations=h.length>0?h:null}else if(h.indexOf("categories")===0)c.categories=a.categories&&a.categories.length>0?a.categories:null;else if(h.indexOf("urls")===0){h=[];a.webpage&&h.push(new ContactField(null,a.webpage));c.urls=h.length>0?h:null}else if(h.indexOf("photos")===0){h=[];a.picture&&h.push(new ContactField("base64",a.picture));c.photos=h.length>0?h:null}}return c};var e=function(a,
b){if(!b)return null;var c=(b.address1||"")+", "+(b.address2||""),d=b.city||"",e=b.stateProvince||"",k=b.zipPostal||"",l=b.country||"";return new ContactAddress(null,a,c+", "+d+", "+e+", "+k+", "+l,c,d,e,k,l)};Cordova.addConstructor(function(){navigator.contacts=new a})}})();
var FileUploadOptions=function(a,b,d,c){this.fileKey=a||null;this.fileName=b||null;this.mimeType=d||null;this.params=c||null},FileUploadResult=function(){this.bytesSent=0;this.response=this.responseCode=null},FileTransferError=function(){this.code=null};FileTransferError.FILE_NOT_FOUND_ERR=1;FileTransferError.INVALID_URL_ERR=2;FileTransferError.CONNECTION_ERR=3;
var FileTransfer=FileTransfer||function(){function a(){}a.prototype.upload=function(a,d,c,e,f,j){var g=null,i=null,h=null,k=null,l=true;if(f){g=f.fileKey;i=f.fileName;h=f.mimeType;if(f.chunkedMode!==null||typeof f.chunkedMode!=="undefined")l=f.chunkedMode;k=f.params?f.params:{}}Cordova.exec(c,e,"FileTransfer","upload",[a,d,g,i,h,k,j,l])};a.prototype.download=function(a,d,c,e){Cordova.exec(function(a){if(typeof c==="function"){new FileEntry(a);c(a)}},e,"FileTransfer","download",[a,d])};return a}();
function PositionError(a,b){this.code=a;this.message=b}PositionError.PERMISSION_DENIED=1;PositionError.POSITION_UNAVAILABLE=2;PositionError.TIMEOUT=3;
var Geolocation=Geolocation||function(){function a(){this.lastPosition=null;this.listeners={}}a.prototype.getCurrentPosition=function(a,b,e){if(navigator._geo.listeners.global){console.log("Geolocation Error: Still waiting for previous getCurrentPosition() request.");try{b(new PositionError(PositionError.TIMEOUT,"Geolocation Error: Still waiting for previous getCurrentPosition() request."))}catch(f){}}else{var j=0,g=36E5,i=false;if(e){if(e.maximumAge&&e.maximumAge>0)j=e.maximumAge;if(e.enableHighAccuracy)i=
e.enableHighAccuracy;e.timeout&&(g=e.timeout<0?0:e.timeout)}navigator._geo.listeners.global={success:a,fail:b};Cordova.exec(null,b,"Geolocation","getCurrentPosition",["global",j,g,i])}};a.prototype.watchPosition=function(a,b,e){var f=0,j=1E4,g=false;if(e){if(e.maximumAge&&e.maximumAge>0)f=e.maximumAge;if(e.enableHighAccuracy)g=e.enableHighAccuracy;e.timeout&&(j=e.timeout<0?0:e.timeout)}e=Cordova.createUUID();navigator._geo.listeners[e]={success:a,fail:b};Cordova.exec(null,b,"Geolocation","watchPosition",
[e,f,j,g]);return e};a.prototype.success=function(a,b){var e=b.message,f=new Coordinates(e.latitude,e.longitude,e.altitude,e.accuracy,e.heading,e.speed,e.alt_accuracy),e=new Position(f,e.timestamp);try{navigator._geo.lastPosition=e;navigator._geo.listeners[a].success(e)}catch(j){console.log("Geolocation Error: Error calling success callback function.")}a=="global"&&delete navigator._geo.listeners.global};a.prototype.fail=function(a,b){var e=b.status,f=b.message;try{navigator._geo.listeners[a].fail(new PositionError(e,
f))}catch(j){console.log("Geolocation Error: Error calling error callback function.")}a=="global"&&delete navigator._geo.listeners.global};a.prototype.clearWatch=function(a){Cordova.exec(null,null,"Geolocation","stop",[a]);delete navigator._geo.listeners[a]};var b=false;Cordova.addConstructor(function(){navigator._geo=new a;if(typeof navigator.geolocation==="undefined"){navigator.geolocation=navigator._geo;b=true}});return{useCordova:function(){if(!b){b=true;navigator.geolocation.getCurrentPosition=
navigator._geo.getCurrentPosition;navigator.geolocation.watchPosition=navigator._geo.watchPosition;navigator.geolocation.clearWatch=navigator._geo.clearWatch;navigator.geolocation.success=navigator._geo.success;navigator.geolocation.fail=navigator._geo.fail}}}}();Connection={UNKNOWN:"unknown",ETHERNET:"ethernet",WIFI:"wifi",CELL_2G:"2g",CELL_3G:"3g",CELL_4G:"4g",NONE:"none"};
(function(){if(typeof navigator.network==="undefined"){var a=function(){this.type=null;this._firstRun=true;var a=this;this.getInfo(function(d){a.type=d.type;typeof d.event!=="undefined"&&Cordova.fireDocumentEvent(d.event);if(a._firstRun){a._firstRun=false;Cordova.onCordovaConnectionReady.fire()}},function(d){if(a._firstRun){a._firstRun=false;Cordova.onCordovaConnectionReady.fire()}console.log("Error initializing Network Connection: "+d)})};a.prototype.getInfo=function(a,d){Cordova.exec(a,d,"Network Status",
"getConnectionInfo",[])};Cordova.addConstructor(function(){navigator.network={};navigator.network.connection=new a})}})();
(function(){function a(){}if(typeof navigator.notification==="undefined"){a.prototype.activityStart=function(a,d){if(typeof a==="undefined"&&typeof d=="undefined"){a="Busy";d="Please wait..."}Cordova.exec(null,null,"Notification","activityStart",[a,d])};a.prototype.activityStop=function(){Cordova.exec(null,null,"Notification","activityStop",[])};a.prototype.alert=function(a,d,c,e){Cordova.exec(d,null,"Notification","alert",[a,c||"Alert",e||"OK"])};a.prototype.blink=function(){};a.prototype.confirm=
function(a,d,c,e){return Cordova.exec(d,null,"Notification","confirm",[a,c||"Confirm",e||"OK,Cancel"])};a.prototype.progressStart=function(a,d){Cordova.exec(null,null,"Notification","progressStart",[a,d])};a.prototype.progressStop=function(){Cordova.exec(null,null,"Notification","progressStop",[])};a.prototype.progressValue=function(a){Cordova.exec(null,null,"Notification","progressValue",[a])};a.prototype.vibrate=function(a){Cordova.exec(null,null,"Notification","vibrate",[a])};a.prototype.beep=
function(a){Cordova.exec(null,null,"Notification","beep",[a])};Cordova.addConstructor(function(){navigator.notification=new a})}})();function Coordinates(a,b,d,c,e,f,j){this.latitude=a;this.longitude=b;this.accuracy=c;this.altitude=d;this.heading=e;this.speed=f;this.altitudeAccuracy=j!="undefined"?j:null}function Position(a,b){this.coords=a;this.timestamp=b};